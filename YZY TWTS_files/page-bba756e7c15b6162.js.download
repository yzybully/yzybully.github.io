(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3976:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,8173,23)),Promise.resolve().then(s.bind(s,6067)),Promise.resolve().then(s.bind(s,4005))},6067:(e,t,s)=>{"use strict";s.d(t,{ThemeToggle:()=>o});var a=s(5155),l=s(7113),r=s(2115),n=s(2529),i=s(2950);function o(){let{theme:e,setTheme:t}=(0,l.D)(),[s,o]=(0,r.useState)(!1);return((0,r.useEffect)(()=>o(!0),[]),s)?(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("button",{onClick:()=>t("light"===e?"dark":"light"),className:"p-1 -m-1 text-foreground/30",children:"dark"===e?(0,a.jsx)(i.NLk,{}):(0,a.jsx)(i.qoe,{})})}):(0,a.jsx)(n.AhV,{className:"animate-spin"})}},4005:(e,t,s)=>{"use strict";s.d(t,{default:()=>T});var a=s(5155),l=s(2115),r=s(6046),n=s(8173),i=s.n(n),o=s(700),c=s(7650),d=s(9795),u=s(3463);function x(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,d.QP)((0,u.$)(t))}function m(e){return"https://yzy-twts.com/cdn-cgi/image/width=1024/".concat(e)}var h=s(341),p=s(2818);function g(e,t){var s;if(!(null==t?void 0:t.length)||!e)return e;let a=null===(s=e.split("/").pop())||void 0===s?void 0:s.split("?")[0];if(!a)return e;let l=t.find(e=>e.split("/").pop()===a);return l?function(e){let t="".concat("https://media.yzy-twts.com","/").concat(e);return/\.(jpg|jpeg|png|gif|webp)$/i.test(e)?m(t):t}(l):e}new h.Y({region:"auto",endpoint:"https://".concat(p.env.CLOUDFLARE_ACCOUNT_ID,".r2.cloudflarestorage.com"),credentials:{accessKeyId:p.env.R2_ACCESS_KEY_ID,secretAccessKey:p.env.R2_SECRET_ACCESS_KEY}});var f=s(2529),j=s(2950);function w(e){let{isOpen:t,onClose:s,media:r,initialIndex:n=0,isExpanded:i=!1}=e,[o,d]=(0,l.useState)(n);if((0,l.useEffect)(()=>{d(n)},[n]),(0,l.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{i||(document.removeEventListener("keydown",e),document.body.style.overflow="unset")}},[t,s,i]),!t||!r)return null;let u=r.all;if(!u.length)return null;let m=u[o];return(0,c.createPortal)((0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center max-w-full bg-black/80",onClick:s,children:(0,a.jsxs)("div",{className:"relative w-full h-full max-w-5xl max-h-[90vh] mx-auto px-4 flex items-center justify-center",children:["photo"===m.type?(0,a.jsx)("img",{src:g(m.url,r.backup_paths),alt:"Media preview",width:m.width,height:m.height,draggable:"false",className:x("object-contain",m.height>m.width?"w-auto h-full max-lg:w-full max-lg:h-auto max-lg:max-h-full":"w-full h-auto"),style:{aspectRatio:m.width/m.height},onClick:e=>e.stopPropagation()}):(0,a.jsx)("video",{src:g(m.url,r.backup_paths),width:m.width,height:m.height,poster:g(m.thumbnail_url,r.backup_paths),controls:!0,autoPlay:!0,className:x("object-contain",m.height>m.width?"w-auto h-full":"w-full h-auto"),onClick:e=>e.stopPropagation()}),u.length>1&&(0,a.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center pointer-events-none max-sm:items-end",children:[(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),d(e=>0===e?u.length-1:e-1)},"aria-label":"Previous media",className:"absolute left-5 size-9 flex items-center justify-center rounded-full bg-foreground/50 hover:bg-foreground/60 transition-colors text-background pointer-events-auto max-sm:bottom-3",children:(0,a.jsx)(j.i84,{className:"size-5 -translate-x-px"})}),(0,a.jsxs)("div",{className:"absolute bottom-4 text-sm text-background bg-foreground/50 px-3.5 py-1.5 rounded-full",children:[o+1,"/",u.length]}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),d(e=>e===u.length-1?0:e+1)},"aria-label":"Next media",className:"absolute right-5 size-9 flex items-center justify-center rounded-full bg-foreground/50 hover:bg-foreground/60 transition-colors text-background pointer-events-auto max-sm:bottom-3",children:(0,a.jsx)(j.xCi,{className:"size-5 translate-x-px"})})]}),(0,a.jsx)("button",{onClick:s,className:"fixed top-4 right-4 text-white hover:text-white/80 transition-colors",children:(0,a.jsx)(f.PXF,{className:"size-6"})})]})}),document.body)}function b(e){let{icon:t,className:s=""}=e,a={Like:v,Retweet:N,Reply:y,Views:k,Quote:C,Link:z,Search:_,Verified:S,Play:L}[t];return a?a(s):null}let v=e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-label":"Like",width:24,height:24,className:e,fill:"currentColor",children:(0,a.jsx)("path",{d:"M16.697 5.5c-1.222-.06-2.679.51-3.89 2.16l-.805 1.09-.806-1.09C9.984 6.01 8.526 5.44 7.304 5.5c-1.243.07-2.349.78-2.91 1.91-.552 1.12-.633 2.78.479 4.82 1.074 1.97 3.257 4.27 7.129 6.61 3.87-2.34 6.052-4.64 7.126-6.61 1.111-2.04 1.03-3.7.477-4.82-.561-1.13-1.666-1.84-2.908-1.91zm4.187 7.69c-1.351 2.48-4.001 5.12-8.379 7.67l-.503.3-.504-.3c-4.379-2.55-7.029-5.19-8.382-7.67-1.36-2.5-1.41-4.86-.514-6.67.887-1.79 2.647-2.91 4.601-3.01 1.651-.09 3.368.56 4.798 2.01 1.429-1.45 3.146-2.1 4.796-2.01 1.954.1 3.714 1.22 4.601 3.01.896 1.81.846 4.17-.514 6.67z"})}),N=e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-label":"Retweet",width:24,height:24,className:e,fill:"currentColor",children:(0,a.jsx)("path",{d:"M4.5 3.88l4.432 4.14-1.364 1.46L5.5 7.55V16c0 1.1.896 2 2 2H13v2H7.5c-2.209 0-4-1.79-4-4V7.55L1.432 9.48.068 8.02 4.5 3.88zM16.5 6H11V4h5.5c2.209 0 4 1.79 4 4v8.45l2.068-1.93 1.364 1.46-4.432 4.14-4.432-4.14 1.364-1.46 2.068 1.93V8c0-1.1-.896-2-2-2z"})}),y=e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-label":"Reply",width:24,height:24,className:e,fill:"currentColor",children:(0,a.jsx)("path",{d:"M1.751 10c0-4.42 3.584-8 8.005-8h4.366c4.49 0 8.129 3.64 8.129 8.13 0 2.96-1.607 5.68-4.196 7.11l-8.054 4.46v-3.69h-.067c-4.49.1-8.183-3.51-8.183-8.01zm8.005-6c-3.317 0-6.005 2.69-6.005 6 0 3.37 2.77 6.08 6.138 6.01l.351-.01h1.761v2.3l5.087-2.81c1.951-1.08 3.163-3.13 3.163-5.36 0-3.39-2.744-6.13-6.129-6.13H9.756z"})}),k=e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-label":"Views",width:24,height:24,className:e,fill:"currentColor",children:(0,a.jsx)("path",{d:"M8.75 21V3h2v18h-2zM18 21V8.5h2V21h-2zM4 21l.004-10h2L6 21H4zm9.248 0v-7h2v7h-2z"})}),C=e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-label":"Quote",width:24,height:24,className:e,fill:"currentColor",children:(0,a.jsx)("path",{d:"M14.23 2.854c.98-.977 2.56-.977 3.54 0l3.38 3.378c.97.977.97 2.559 0 3.536L9.91 21H3v-6.914L14.23 2.854zm2.12 1.414c-.19-.195-.51-.195-.7 0L5 14.914V19h4.09L19.73 8.354c.2-.196.2-.512 0-.708l-3.38-3.378zM14.75 19l-2 2H21v-2h-6.25z"})}),z=e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-label":"Quote",width:24,height:24,className:e,fill:"currentColor",children:(0,a.jsx)("path",{d:"M18.36 5.64c-1.95-1.96-5.11-1.96-7.07 0L9.88 7.05 8.46 5.64l1.42-1.42c2.73-2.73 7.16-2.73 9.9 0 2.73 2.74 2.73 7.17 0 9.9l-1.42 1.42-1.41-1.42 1.41-1.41c1.96-1.96 1.96-5.12 0-7.07zm-2.12 3.53l-7.07 7.07-1.41-1.41 7.07-7.07 1.41 1.41zm-12.02.71l1.42-1.42 1.41 1.42-1.41 1.41c-1.96 1.96-1.96 5.12 0 7.07 1.95 1.96 5.11 1.96 7.07 0l1.41-1.41 1.42 1.41-1.42 1.42c-2.73 2.73-7.16 2.73-9.9 0-2.73-2.74-2.73-7.17 0-9.9z"})}),_=e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-label":"Search",width:24,height:24,className:e,fill:"currentColor",children:(0,a.jsx)("path",{d:"M10.25 3.75c-3.59 0-6.5 2.91-6.5 6.5s2.91 6.5 6.5 6.5c1.795 0 3.419-.726 4.596-1.904 1.178-1.177 1.904-2.801 1.904-4.596 0-3.59-2.91-6.5-6.5-6.5zm-8.5 6.5c0-4.694 3.806-8.5 8.5-8.5s8.5 3.806 8.5 8.5c0 1.986-.682 3.815-1.824 5.262l4.781 4.781-1.414 1.414-4.781-4.781c-1.447 1.142-3.276 1.824-5.262 1.824-4.694 0-8.5-3.806-8.5-8.5z"})}),S=e=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 22",role:"img","aria-label":"Verified",width:22,height:22,className:e,fill:"none",children:[(0,a.jsxs)("g",{children:[(0,a.jsxs)("linearGradient",{gradientUnits:"userSpaceOnUse",id:"0-a",x1:"4.411",x2:"18.083",y1:"2.495",y2:"21.508",children:[(0,a.jsx)("stop",{offset:"0",stopColor:"#f4e72a"}),(0,a.jsx)("stop",{offset:".539",stopColor:"#cd8105"}),(0,a.jsx)("stop",{offset:".68",stopColor:"#cb7b00"}),(0,a.jsx)("stop",{offset:"1",stopColor:"#f4ec26"}),(0,a.jsx)("stop",{offset:"1",stopColor:"#f4e72a"})]}),(0,a.jsxs)("linearGradient",{gradientUnits:"userSpaceOnUse",id:"0-b",x1:"5.355",x2:"16.361",y1:"3.395",y2:"19.133",children:[(0,a.jsx)("stop",{offset:"0",stopColor:"#f9e87f"}),(0,a.jsx)("stop",{offset:".406",stopColor:"#e2b719"}),(0,a.jsx)("stop",{offset:".989",stopColor:"#e2b719"})]})]}),(0,a.jsxs)("g",{clipRule:"evenodd",fillRule:"evenodd",children:[(0,a.jsx)("path",{d:"M13.324 3.848L11 1.6 8.676 3.848l-3.201-.453-.559 3.184L2.06 8.095 3.48 11l-1.42 2.904 2.856 1.516.559 3.184 3.201-.452L11 20.4l2.324-2.248 3.201.452.559-3.184 2.856-1.516L18.52 11l1.42-2.905-2.856-1.516-.559-3.184zm-7.09 7.575l3.428 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fill:"url(#0-a)"}),(0,a.jsx)("path",{d:"M13.101 4.533L11 2.5 8.899 4.533l-2.895-.41-.505 2.88-2.583 1.37L4.2 11l-1.284 2.627 2.583 1.37.505 2.88 2.895-.41L11 19.5l2.101-2.033 2.895.41.505-2.88 2.583-1.37L17.8 11l1.284-2.627-2.583-1.37-.505-2.88zm-6.868 6.89l3.429 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fill:"url(#0-b)"}),(0,a.jsx)("path",{d:"M6.233 11.423l3.429 3.428 5.65-6.17.038-.033-.005 1.398-5.683 6.206-3.429-3.429-.003-1.405.005.003z",fill:"#d18800"})]})]}),L=e=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 60 61",role:"img","aria-label":"Play",width:60,height:61,className:e,fill:"currentColor",children:[(0,a.jsx)("circle",{cx:"30",cy:"30.4219",fill:"#333333",opacity:"0.6",r:"30"}),(0,a.jsx)("path",{d:"M22.2275 17.1971V43.6465L43.0304 30.4218L22.2275 17.1971Z",fill:"#ffffff"})]});var P=s(1589),E=s(648);let M={publicUrl:"https://yzy-twts.com"};function R(e){var t,s,r,n,c,d,u;let{data:h,onExpand:p,isExpanded:v}=e,[N,y]=(0,l.useState)(!1),[k,C]=(0,l.useState)(0),[z,_]=(0,l.useState)(!1),S=null!==(u=null==h?void 0:null===(t=h.data.media)||void 0===t?void 0:t.all)&&void 0!==u?u:[],L=S[k];return h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:x("flex flex-col gap-4 items-start justify-between w-full bg-background border border-grey rounded-xl font-ibm-plex-mono overflow-hidden",v?"p-4":"p-3.5"),children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3.5 w-full",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4 w-full",children:[(0,a.jsxs)(i(),{href:"https://x.com/".concat(h.data.author.screen_name),target:"_blank",className:"flex items-center justify-start gap-2.5",children:[(0,a.jsx)("img",{src:m(h.data.author.avatar_url)||"/icon.png",alt:h.data.author.name,draggable:"false",width:40,height:40,className:"size-10 rounded border border-grey transition-all hover:brightness-[97%]"}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1 text-base font-bold leading-none hover:underline",children:[h.data.author.name," ",(0,a.jsx)(b,{icon:"Verified",className:"size-4 scale-110"})]}),(0,a.jsx)("span",{className:"text-sm font-medium leading-none text-foreground/65",children:"@"+h.data.author.screen_name})]})]}),(0,a.jsx)(i(),{href:"https://x.com/".concat(h.data.author.screen_name,"/status/").concat(h.id),target:"_blank","aria-disabled":h.deleted,onClick:e=>{h.deleted&&e.preventDefault()},children:(0,a.jsx)(P.TCj,{className:"size-5"})})]}),(0,a.jsxs)("div",{className:x("flex items-start justify-start w-full",v?"gap-4":"gap-3"),children:[((null===(r=h.data.media)||void 0===r?void 0:null===(s=r.photos)||void 0===s?void 0:s[0])||(null===(c=h.data.media)||void 0===c?void 0:null===(n=c.videos)||void 0===n?void 0:n[0]))&&(0,a.jsxs)("div",{className:x("flex flex-col gap-2 shrink-0",!h.data.text&&"w-full"),children:[(0,a.jsxs)("div",{className:"relative flex items-center justify-center overflow-hidden rounded border border-grey bg-foreground/5 shrink-0 cursor-pointer",onClick:()=>y(!0),children:[(0,a.jsx)("img",{src:"photo"===L.type?g(L.url,h.data.media.backup_paths):g(L.thumbnail_url,h.data.media.backup_paths),alt:"".concat(L.type," ").concat(k+1),width:80,height:80,draggable:"false",className:x("h-auto object-cover sm:max-h-32 max-sm:max-h-80",h.data.text?"w-20 aspect-square":"w-full -my-px max-h-32",v&&h.data.text?"sm:w-32":"max-sm:max-h-80",v&&!h.data.text?"sm:!max-h-80":"")}),"video"===S[k].type&&(0,a.jsx)(b,{icon:"Play",className:"size-8 absolute"})]}),S.length>1&&(0,a.jsxs)("div",{className:"flex items-center justify-center gap-0.5 w-full",children:[(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),C(e=>0===e?S.length-1:e-1)},className:"w-full py-0.5 rounded bg-foreground/0 hover:bg-foreground/5 transition-colors flex items-center justify-center border border-grey","aria-label":"Previous media",children:(0,a.jsx)(j.i84,{className:"size-3.5"})}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),C(e=>e===S.length-1?0:e+1)},className:"w-full py-0.5 rounded bg-foreground/0 hover:bg-foreground/5 transition-colors flex items-center justify-center border border-grey","aria-label":"Next media",children:(0,a.jsx)(j.xCi,{className:"size-3.5"})})]})]}),h.data.text&&(0,a.jsxs)("div",{className:x("flex flex-col items-start justify-start gap-4 w-full overflow-y-auto scrollbar pr-2 gradient-mask-b-[black_calc(100%-10px)] max-sm:pb-1",v?"h-auto max-h-80 min-h-20":"sm:h-32 max-sm:max-h-80"),children:[h.data.replying_to_status&&(0,a.jsx)("div",{className:"flex flex-col items-start justify-start gap-1 w-full translate-y-1",children:(0,a.jsxs)(i(),{href:"https://x.com/".concat(h.data.replying_to,"/status/").concat(h.data.replying_to_status),target:"_blank",className:"flex items-center gap-1.5 text-xs font-medium leading-none text-foreground/50 hover:underline underline-offset-2",children:[(0,a.jsx)(b,{icon:"Reply",className:"size-3.5 translate-y-px"})," Replying to @",h.data.replying_to]})}),(0,a.jsx)("p",{className:x("pb-0.5 [word-break:break-word] whitespace-pre-wrap",h.data.text.length<40?"".concat(v?"text-3xl":"text-2xl"):"text-base font-medium ".concat(v?"text-lg":""," leading-[1.3]")),children:(function(e){let t;let s=RegExp("(https?:\\/\\/[^\\s]+)|(?<!\\w)@(\\w+)","g"),a=[],l=0;do{if(null===(t=s.exec(e)))break;t.index>l&&a.push(e.slice(l,t.index)),t[0].startsWith("http")?a.push({url:t[0],displayText:t[0].replace(/^https?:\/\//i,"").replace(/\/$/,"")}):t[0].startsWith("@")&&a.push({url:"https://x.com/".concat(t[0].slice(1)),displayText:t[0]}),l=s.lastIndex}while(null!==t);return l<e.length&&a.push(e.slice(l)),a})(h.data.text).map((e,t)=>"string"==typeof e?e:(0,a.jsx)(i(),{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-twitter-blue hover:underline",children:e.displayText},t))}),h.data.quote&&(0,a.jsxs)("div",{className:"flex flex-col items-start justify-start gap-1 w-full pb-2",children:[(0,a.jsxs)(i(),{href:"https://x.com/".concat(h.data.quote.author.screen_name,"/status/").concat(h.data.quote.id),target:"_blank",className:"flex items-center gap-1.5 text-xs font-medium leading-none text-foreground/50 hover:underline underline-offset-2",children:[(0,a.jsx)(b,{icon:"Quote",className:"size-3.5 translate-y-px"})," Quoting"]}),(0,a.jsxs)(i(),{href:"https://x.com/".concat(h.data.quote.author.screen_name),target:"_blank",className:"flex items-center justify-start gap-1.5 w-full",children:[(0,a.jsx)("img",{src:m(h.data.quote.author.avatar_url),alt:h.data.quote.author.name,draggable:"false",width:16,height:16,className:"size-4 rounded-full border border-grey"}),(0,a.jsxs)("div",{className:"inline-block mb-px truncate",children:[(0,a.jsx)("span",{className:"text-sm font-medium leading-none hover:underline",children:h.data.quote.author.name}),(0,a.jsx)("span",{className:"text-sm leading-none text-foreground/50 truncate",children:" \xb7 @"+h.data.quote.author.screen_name})]})]}),(0,a.jsx)("span",{className:"text-sm font-medium leading-tight [word-break:break-word]",children:h.data.quote.text})]})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2 w-full",children:[(0,a.jsx)(i(),{href:"https://x.com/".concat(h.data.author.screen_name,"/status/").concat(h.id),target:"_blank","aria-disabled":h.deleted,onClick:e=>{h.deleted&&e.preventDefault()},className:"w-max text-sm leading-none text-foreground/50 cursor-pointer truncate hover:underline",children:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=new Date(e),a=s.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}).toUpperCase(),l=s.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return t?"".concat(l," \xb7 ").concat(a):"".concat(a," \xb7 ").concat(l)}(h.data.created_at)}),(0,a.jsxs)("div",{className:"flex items-center gap-2.5 -my-1 max-sm:gap-3",children:[(0,a.jsxs)("button",{title:"Copy link",onClick:()=>{navigator.clipboard.writeText("".concat(M.publicUrl,"/tweet/").concat(null==h?void 0:h.id)),_(!0),setTimeout(()=>_(!1),2e3)},className:"group/copy flex items-center gap-1.5 text-foreground/50 cursor-pointer",children:[(0,a.jsx)("div",{className:"p-1.5 -m-1.5 rounded-full group-hover/copy:bg-foreground/5 transition-colors",children:z?(0,a.jsx)(E.g9_,{className:"size-4 scale-105"}):(0,a.jsx)(b,{icon:"Link",className:"size-4"})}),v&&(0,a.jsx)("span",{className:"text-sm leading-none font-normal max-sm:hidden",children:z?"Copied":"Copy link"})]}),!v&&(0,a.jsx)("button",{title:"Expand",onClick:p,className:"group/expand flex items-center gap-1.5 text-foreground/50 cursor-pointer",children:(0,a.jsx)("div",{className:"p-1.5 -m-1.5 rounded-full group-hover/expand:bg-foreground/5 transition-colors",children:(0,a.jsx)(f.MXi,{className:"size-4 scale-95 rotate-90"})})})]})]}),(0,a.jsx)("hr",{className:"w-full border-grey my-0.5"}),(0,a.jsx)("div",{className:"w-full -my-1.5 -ml-1 overflow-x-auto overflow-y-visible no-scrollbar gradient-mask-r-[black_95%]",children:(0,a.jsxs)("div",{className:x("flex items-center justify-start w-full py-1.5 px-1.5 text-foreground/50 font-medium [&>*:last-child]:pr-3",v?"gap-6":"gap-4"),children:[(0,a.jsxs)("div",{title:"".concat(h.data.replies.toLocaleString("en-US")," replies"),className:"group/reply flex items-center gap-1 hover:text-twitter-blue cursor-pointer",children:[(0,a.jsx)("div",{className:"p-1.5 -m-1.5 rounded-full group-hover/reply:bg-twitter-blue/10 transition-colors",children:(0,a.jsx)(b,{icon:"Reply",className:"w-4 h-4"})}),(0,a.jsx)("span",{className:"text-sm leading-none",children:h.data.replies>1e4?(0,o.d5)(h.data.replies,{precision:0}):(0,o.d5)(h.data.replies)})]}),(0,a.jsxs)("div",{title:"".concat(h.data.retweets.toLocaleString("en-US")," retweets"),className:"group/retweet flex items-center gap-1 hover:text-[#00ba7c] cursor-pointer",children:[(0,a.jsx)("div",{className:"p-1.5 -m-1.5 rounded-full group-hover/retweet:bg-[#00ba7c]/10 transition-colors",children:(0,a.jsx)(b,{icon:"Retweet",className:"w-4 h-4"})}),(0,a.jsx)("span",{className:"text-sm leading-none",children:h.data.retweets>1e4?(0,o.d5)(h.data.retweets,{precision:0}):(0,o.d5)(h.data.retweets)})]}),(0,a.jsxs)("div",{title:"".concat(h.data.likes.toLocaleString("en-US")," likes"),className:"group/like flex items-center gap-1 hover:text-[#f91880] cursor-pointer",children:[(0,a.jsx)("div",{className:"p-1.5 -m-1.5 rounded-full group-hover/like:bg-[#f91880]/10 transition-colors",children:(0,a.jsx)(b,{icon:"Like",className:"w-4 h-4"})}),(0,a.jsx)("span",{className:"text-sm leading-none",children:h.data.likes>1e4?(0,o.d5)(h.data.likes,{precision:0}):(0,o.d5)(h.data.likes)})]}),(0,a.jsxs)("div",{title:"".concat(null===(d=h.data.views)||void 0===d?void 0:d.toLocaleString("en-US")," views"),className:"group/views flex items-center gap-1 hover:text-twitter-blue cursor-pointer",children:[(0,a.jsx)("div",{className:"p-1.5 -m-1.5 rounded-full group-hover/views:bg-twitter-blue/10 transition-colors",children:(0,a.jsx)(b,{icon:"Views",className:"w-4 h-4"})}),h.data.views&&(0,a.jsx)("span",{className:"text-sm leading-none",children:h.data.views>1e7||h.data.views>1e5&&h.data.views<1e6?(0,o.d5)(h.data.views,{precision:0}):(0,o.d5)(h.data.views)})]})]})})]})]}),(0,a.jsx)(w,{isOpen:N,onClose:()=>y(!1),media:h.data.media,initialIndex:k,isExpanded:v})]}):null}function U(){return(0,a.jsxs)("div",{className:"flex flex-col gap-4 items-start justify-between w-full h-full bg-background border border-grey rounded-xl p-3.5 overflow-hidden [&_span]:animate-pulse",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3.5 w-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-start gap-2.5 w-full",children:[(0,a.jsx)("span",{className:"size-10 rounded bg-foreground/10"}),(0,a.jsxs)("div",{className:"flex flex-col items-start justify-start gap-1.5",children:[(0,a.jsx)("span",{className:"w-10 h-3 rounded bg-foreground/10"}),(0,a.jsx)("span",{className:"w-20 h-2.5 rounded bg-foreground/10"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 w-full sm:h-32 overflow-y-auto scrollbar pr-2 py-1",children:[(0,a.jsx)("span",{className:"w-5/6 h-3.5 rounded bg-foreground/10"}),(0,a.jsx)("span",{className:"w-full h-3.5 rounded bg-foreground/10"}),(0,a.jsx)("span",{className:"w-2/3 h-3.5 rounded bg-foreground/10"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2.5 w-full",children:[(0,a.jsx)("span",{className:"w-36 h-3 rounded bg-foreground/10"}),(0,a.jsx)("hr",{className:"w-full border-grey my-0.5"}),(0,a.jsx)("div",{className:"flex items-center justify-start gap-4",children:(0,a.jsx)("span",{className:"w-60 h-3.5 rounded bg-foreground/10"})})]})]})}function V(e){let{tweet:t,isOpen:s,onClose:r}=e;return((0,l.useEffect)(()=>{let e=e=>{"Escape"===e.key&&r()};return s&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[s,r]),s&&t)?(0,c.createPortal)((0,a.jsxs)("div",{className:"fixed inset-0 z-40 flex items-center justify-center max-w-full bg-black/50 dark:bg-black/60",onClick:r,children:[(0,a.jsx)("div",{className:"flex flex-col items-center justify-center gap-4 w-full max-w-xl max-h-[90vh] px-4",onClick:e=>e.stopPropagation(),children:(0,a.jsx)(R,{data:t,onExpand:r,isExpanded:!0})}),(0,a.jsx)("button",{onClick:r,className:"fixed top-4 right-4 text-white hover:text-white/80 transition-colors",children:(0,a.jsx)(f.PXF,{className:"size-6"})})]}),document.body):null}function T(){let e=(0,r.useRouter)(),t=(0,r.useSearchParams)(),[s,n]=(0,l.useState)([]),[i,o]=(0,l.useState)(!0),[c,d]=(0,l.useState)(()=>"likes"===t.get("sort")?"likes":"created_at"),[u,m]=(0,l.useState)(()=>"oldest"===t.get("sort")?"asc":"desc"),[h,p]=(0,l.useState)({total:0,page:1,pageSize:48,totalPages:0,hasMore:!1}),[g,w]=(0,l.useState)(""),[v,N]=(0,l.useState)(""),[y,k]=(0,l.useState)(null);(0,l.useEffect)(()=>{(async()=>{o(!0);let e=await fetch("/api/tweets?page=".concat(h.page,"&sort=").concat(c,"&order=").concat(u).concat(v?"&search=".concat(v):"")),t=await e.json();t.success&&(n(t.tweets),p(t.pagination)),o(!1)})()},[h.page,c,u,v]),(0,l.useEffect)(()=>{let e=t.get("tweet");!e||(null==y?void 0:y.id)?e||k(null):(async()=>{let t=await fetch("/api/tweet/".concat(e));t.ok?k(await t.json()):S()})()},[t]);let C=(s,a)=>{let l=new URLSearchParams(t);l.set("sort","created_at"===s?"asc"===a?"oldest":"newest":"likes"),e.push("?".concat(l.toString()),{scroll:!1}),d(s),m(a),p(e=>({...e,page:1}))},z=e=>{p(t=>({...t,page:e})),window.scrollTo({top:0})},_=s=>{let a=new URLSearchParams(t);a.set("tweet",s.id),e.push("?".concat(a.toString()),{scroll:!1}),k(s)},S=()=>{let s=new URLSearchParams(t);s.delete("tweet"),e.push("?".concat(s.toString()),{scroll:!1}),k(null)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col flex-1 gap-6 w-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-5 w-full text-sm font-medium max-sm:flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-start gap-x-2.5 gap-y-1 flex-wrap",children:[(0,a.jsx)("span",{className:"uppercase",children:"Sort by:"}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3.5",children:[(0,a.jsx)("button",{onClick:()=>C("created_at","asc"),disabled:i,className:x("uppercase","created_at"===c&&"asc"===u?"underline underline-offset-4":"opacity-50"),children:"Oldest"}),(0,a.jsx)("button",{onClick:()=>C("created_at","desc"),disabled:i,className:x("uppercase","created_at"===c&&"desc"===u?"underline underline-offset-4":"opacity-50"),children:"Newest"}),(0,a.jsx)("button",{onClick:()=>C("likes","desc"),disabled:i,className:x("uppercase","likes"===c&&"desc"===u?"underline underline-offset-4":"opacity-50"),children:"Likes"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 max-sm:flex-col-reverse",children:[(0,a.jsxs)("span",{className:"text-sm font-medium uppercase shrink-0",children:[h.total.toLocaleString("en-US")," tweets"]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),N(g),p(e=>({...e,page:1}))},className:"flex items-center justify-center gap-2 w-full max-w-64 pl-2.5 pr-1 py-1 border border-grey rounded",children:[(0,a.jsx)("input",{id:"search",type:"text",placeholder:"Search tweet",className:"bg-transparent w-full outline-none uppercase truncate disabled:opacity-75",value:g,onChange:e=>w(e.target.value),disabled:!!v}),v?(0,a.jsx)("button",{type:"button",onClick:()=>{w(""),N(""),p(e=>({...e,page:1}))},className:"p-1 rounded-md uppercase",children:(0,a.jsx)(f.PXF,{className:"size-4"})}):(0,a.jsx)("button",{type:"submit",className:"p-1 rounded-md uppercase",children:(0,a.jsx)(b,{icon:"Search",className:"size-4"})})]})]})]}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("div",{className:x("grid grid-cols-4 max-xl:grid-cols-3 max-lg:grid-cols-2 max-sm:grid-cols-1 gap-4 w-full",i&&0!==s.length&&"opacity-50"),children:s.length>0?s.map(e=>(0,a.jsx)("article",{id:e.id,children:(0,a.jsx)(R,{data:e,onExpand:()=>_(e)},e.id)},e.id)):v&&0===s.length?(0,a.jsx)("div",{className:"flex items-start justify-center w-full text-center col-span-4 pt-4 pb-20",children:(0,a.jsx)("span",{className:"text-sm font-medium uppercase",children:"No tweets found"})}):Array.from({length:12}).map((e,t)=>(0,a.jsx)(U,{},t))})}),(0,a.jsx)("div",{className:"flex items-center justify-center gap-5 w-full mt-4 max-sm:flex-col-reverse",children:(0,a.jsxs)("div",{className:"flex gap-2 items-center justify-center text-sm font-medium text-center",children:[(0,a.jsx)("button",{onClick:()=>z(1),disabled:1===h.page||i||!s.length,className:"p-2 bg-foreground/0 border border-grey rounded-md uppercase transition-colors hover:bg-foreground/5 disabled:opacity-50 disabled:pointer-events-none",children:(0,a.jsx)(j.hc2,{className:"size-4"})}),(0,a.jsx)("button",{onClick:()=>z(Math.max(1,h.page-1)),disabled:1===h.page||i||!s.length,className:"p-2 bg-foreground/0 border border-grey rounded-md uppercase transition-colors hover:bg-foreground/5 disabled:opacity-50 disabled:pointer-events-none",children:(0,a.jsx)(j.i84,{className:"size-4"})}),(0,a.jsxs)("span",{className:"px-3 py-1.5 uppercase max-sm:px-1.5",children:["Page ",h.page," of ",h.totalPages||1]}),(0,a.jsx)("button",{onClick:()=>z(Math.min(h.totalPages,h.page+1)),disabled:h.page===h.totalPages||i||!s.length,className:"p-2 bg-foreground/0 border border-grey rounded-md uppercase transition-colors hover:bg-foreground/5 disabled:opacity-50 disabled:pointer-events-none",children:(0,a.jsx)(j.xCi,{className:"size-4"})}),(0,a.jsx)("button",{onClick:()=>z(h.totalPages),disabled:h.page===h.totalPages||i||!s.length,className:"p-2 bg-foreground/0 border border-grey rounded-md uppercase transition-colors hover:bg-foreground/5 disabled:opacity-50 disabled:pointer-events-none",children:(0,a.jsx)(j.jRC,{className:"size-4"})})]})})]}),y&&(0,a.jsx)(V,{tweet:y,onClose:S,isOpen:!!y})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[479,150,446,603,79,642,441,517,358],()=>t(3976)),_N_E=e.O()}]);